/*
 * FindBugs - Find bugs in Java programs
 * Copyright (C) 2003, University of Maryland
 * 
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 * 
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 * 
 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 */

/*
 * AboutDialog.java
 *
 * Created on April 6, 2003, 7:05 PM
 */

package edu.umd.cs.findbugs.gui;

import javax.swing.ImageIcon;

/**
 * The Help:About dialog.
 * @author David Hovemeyer
 */
public class AboutDialog extends javax.swing.JDialog {
    
    private FindBugsFrame parent;
    private java.net.URL aboutURL;
    private java.net.URL licenseURL;
    private java.net.URL acknowledgementsURL;
    
    /** Creates new form AboutDialog */
    public AboutDialog(FindBugsFrame parent, boolean modal) {
	super(parent, modal);
        this.parent = parent;
        aboutURL = getClass().getClassLoader().getResource("edu/umd/cs/findbugs/gui/help/About.html");
        licenseURL = getClass().getClassLoader().getResource("edu/umd/cs/findbugs/gui/help/License.html");
        acknowledgementsURL = getClass().getClassLoader().getResource("edu/umd/cs/findbugs/gui/help/Acknowledgements.html");
	initComponents();
    }
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    private void initComponents() {//GEN-BEGIN:initComponents
        java.awt.GridBagConstraints gridBagConstraints;

        aboutTabPane = new javax.swing.JTabbedPane();
        aboutScrollPane = new javax.swing.JScrollPane();
        aboutEditorPane = new javax.swing.JEditorPane();
        licenseScrollPane = new javax.swing.JScrollPane();
        licenseEditorPane = new javax.swing.JEditorPane();
        acknolwedgementsScrollPane = new javax.swing.JScrollPane();
        acknowledgementsEditorPane = new javax.swing.JEditorPane();
        jSeparator1 = new javax.swing.JSeparator();
        okButton = new javax.swing.JButton();

        getContentPane().setLayout(new java.awt.GridBagLayout());

        setTitle("About FindBugs");
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosing(java.awt.event.WindowEvent evt) {
                closeDialog(evt);
            }
        });

        aboutEditorPane.setEditable(false);
        try {
            aboutEditorPane.setPage(aboutURL);
        } catch (java.io.IOException e) {
            parent.getLogger().logMessage(ConsoleLogger.ERROR, "Error loading about URL: " + e.toString());
        }
        aboutScrollPane.setViewportView(aboutEditorPane);

        aboutTabPane.addTab("About", aboutScrollPane);

        licenseEditorPane.setEditable(false);
        try {
            licenseEditorPane.setPage(licenseURL);
        } catch (java.io.IOException e) {
            parent.getLogger().logMessage(ConsoleLogger.ERROR, "Error loading license URL: " + e.toString());
        }
        licenseScrollPane.setViewportView(licenseEditorPane);

        aboutTabPane.addTab("License", licenseScrollPane);

        acknowledgementsEditorPane.setEditable(false);
        try {
            acknowledgementsEditorPane.setPage(acknowledgementsURL);
        } catch (java.io.IOException e) {
            parent.getLogger().logMessage(ConsoleLogger.ERROR, "Error loading acknowledgements URL: " + e.toString());
        }
        acknolwedgementsScrollPane.setViewportView(acknowledgementsEditorPane);

        aboutTabPane.addTab("Acknowledgements", acknolwedgementsScrollPane);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        getContentPane().add(aboutTabPane, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        getContentPane().add(jSeparator1, gridBagConstraints);

        okButton.setMnemonic('O');
        okButton.setText("OK");
        okButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                okButtonActionPerformed(evt);
            }
        });

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.insets = new java.awt.Insets(3, 0, 3, 0);
        getContentPane().add(okButton, gridBagConstraints);

        pack();
    }//GEN-END:initComponents

    private void okButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_okButtonActionPerformed
        closeDialog();
    }//GEN-LAST:event_okButtonActionPerformed
    
    /** Closes the dialog */
    private void closeDialog(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_closeDialog
	closeDialog();
    }//GEN-LAST:event_closeDialog
    
    private void closeDialog() {
	setVisible(false);
	dispose();
    }
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JEditorPane aboutEditorPane;
    private javax.swing.JScrollPane aboutScrollPane;
    private javax.swing.JTabbedPane aboutTabPane;
    private javax.swing.JScrollPane acknolwedgementsScrollPane;
    private javax.swing.JEditorPane acknowledgementsEditorPane;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JEditorPane licenseEditorPane;
    private javax.swing.JScrollPane licenseScrollPane;
    private javax.swing.JButton okButton;
    // End of variables declaration//GEN-END:variables
    
}
